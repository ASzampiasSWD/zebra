<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	
		<style>
		
		body {
      /*background-image: linear-gradient(120deg, 
                                      #9de7fa 0%, 
									  #A7BFE8 100%);*/
                                    /*#f89fba 100%);*/
	  background-color: #def;
      color: black;
      font-family: "Poppins", sans-serif;
     min-height: 100vh;
}

/*.btn-primary {
      color: #fff;
      background-color: #f89fba;
      border-color: #f89fba;
}*/
.containerFormSubmittedMessage {
      display: flex;
      flex-direction: column;
      margin: auto;
      justify-content: center;
      align-items: center;
      height: 200px;
      border: 3px solid whitesmoke;
}
		
		
		
		</style>
</head>

<body>
{{{body}}}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
<!--<img src="styles/zebra.png" width="30" height="30" style="margin-right: 10px; background-color: white;" class="d-inline-block align-top" alt="">-->
  <a class="navbar-brand" href=""> Zebra Printers</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="/">Add Repair</a>
      </li>
	   <li class="nav-item">
        <a class="nav-link" href="/list">Fixed Printer List</a>
      </li>
	   <li class="nav-item active">
        <a class="nav-link" href="/join">Add User</a>
      </li>
  </div>
</nav>
<br /><br />

	<div class="container">
  <div class="row">
    <!-- This column takes up 6 of the 12 columns on medium screens and up -->
    <!-- On small (sm) and extra-small screens, it defaults to full width (col-12) -->
    <div class="col-12 col-md-8">
		<h2>Add User</h2>
      <form action="/submit-new-user" method="POST">
        <!-- Form elements go here -->


  <div class="mb-3">
  <label for="selectOrgID">Org ID</label><br />
 <select id="selectOrgId" name="selectOrgId" onchange="selectOrgIdChanged(event)" class="form-select form-select-lg w-25">
</select> 
</div>
		
	
        <div class="mb-3">
          <label for="userId" class="form-label">Amazon Username ID</label>
          <input type="text" class="form-control" id="userId" name="userId" maxlength="12" required />
        </div>
		
		<div class="mb-3">
          <label for="firstName" class="form-label">First Name</label>
          <input type="text" class="form-control" id="firstName" maxlength="50" name="firstName" required />
        </div>
		
		<div class="mb-3">
          <label for="lastName" class="form-label">Last Name</label>
          <input type="text" class="form-control" id="lastName" maxlength="50" name="lastName" required />
        </div>
		<button type="submit" id="submitBtn" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </div>
</div>



<script type="text/javascript">

window.onload = function() {

let rows = {{{rows}}};
console.log(rows);
console.log(rows[0].org_id);
const selectElement = document.getElementById("selectOrgId");

Object.keys(rows).forEach(key => {
  const value = rows[key];
  console.log(key, value.org_id);
  let newOption = new Option(value.org_id, value.org_id);
  selectElement.add(newOption);
});
let lastOption = new Option('Message szampiam if org is not listed', 'noOrgFound');
selectElement.add(lastOption);
}

function selectOrgIdChanged(e) {
if (e.target.value != "noOrgFound") {
	document.getElementById('submitBtn').disabled = false;
} else {
	document.getElementById('submitBtn').disabled = true;
}
}


</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


</body>
</html>